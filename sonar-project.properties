# SonarQube / SonarCloud configuration

# Source file patterns
sonar.sources=.
sonar.tests=.

# Exclude test files from being treated as source files
sonar.exclusions=**/test_*.js,**/node_modules/**,**/coverage/**,**/*.test.js,**/test_*.py,**/*_test.py,**/Tests/Load/**

# Exclude directories
sonar.exclusions+=**/node_modules/**,**/coverage/**,**/.git/**,**/dist/**,**/build/**,**/Tests/Load/**

# Test file patterns - ONLY include actual test files (JS and Python)
sonar.test.inclusions=**/*.test.js,**/test_*.js,**/test_*.py,**/*_test.py

# Exclude non-test files from test analysis (Terraform, config files, k6 tests, etc.)
sonar.test.exclusions=**/*.tf,**/*.tfvars,**/*.md,**/*.txt,**/*.json,**/*.yaml,**/*.yml,**/node_modules/**,**/coverage/**,**/Tests/Load/**

# Exclude test files and k6 load tests from coverage calculation
sonar.coverage.exclusions=**/test_*.js,**/node_modules/**,**/coverage/**,**/*.test.js,**/test_*.py,**/*_test.py,**/Tests/Load/**

# JavaScript/TypeScript specific
sonar.javascript.lcov.reportPaths=coverage/lcov.info

# Python specific
sonar.python.coverage.reportPaths=iac/modules/discord_notifier/coverage.xml
sonar.python.xunit.reportPaths=**/test-results.xml

